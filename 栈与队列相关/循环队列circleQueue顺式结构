#include<stdio.h>
#include<string.h>
#include<stdlib.h>
#define MAX_SIZE 100
//通过对MAX_SIZE取模实现循环
typedef struct{
    int* data;//数组指针
    int front;
    int rear;//rear指向队尾下一个元素
}Queue;

Queue* initQueue(){//初始化空队列
    Queue *q=(Queue*)malloc(sizeof(Queue));
    q->data=(int*)malloc(sizeof(int));
    q->front=0;
    q->rear=0;
    return q;
}

int isEmpty(Queue* q){
    if(q->front==q->rear){
        printf("空的\n");
        return 1;
    }

    return 0;
}

//入队
int push(Queue *q,int* e){
    if((q->rear+1)%MAX_SIZE==q->front){
        printf("满了\n");
        return 0;
    }
    q->data[q->rear]=e;
    q->rear=(q->rear+1)%MAX_SIZE;
    return 1;
}

//出队
int pop(Queue* q,int* e){
    if(isEmpty(q)){
        printf("空的\n");
        return 0;
    }
    *e=q->data[q->front];
    q->front=(q->front+1)%MAX_SIZE;
    return 1;
}

//获取队头
int getFront(Queue* q,int* e){
    if(isEmpty(q)){
        printf("空的\n");
        return 0;
    }
    *e=q->data[q->front];
    return 1;
}

int main(){
    Queue* q=initQueue();
    int e;
    push(q,1);
    push(q,2);
    push(q,3);
    pop(q,&e);
    printf("弹出的元素是%d\n",e);
    getFront(q,&e);
    printf("队头元素是%d\n",e);
    return 0;
}

